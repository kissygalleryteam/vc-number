KISSY.add("kg/vc-number/1.0.0/plugins/slide/slide",["node","base"],function(t,e,a,s){var i="",n=e("node").all,r=e("base");s.exports=r.extend({pluginInitializer:function(t){var e=this;t&&(e._initAttr(t),e._bindEvents())},pluginDestructor:function(){var t=this,e=t.get("vcNumber");e.detach("afterChange",t.get("afterChange")),e.detach("changing",t.get("changing"))},_initAttr:function(t){var e=this;e.set("vcNumber",t),e.set("$target",t.get("$target"))},_renderHtml:function(e,a){var s=this,i=s.get("$target"),r=s.get("slideCls"),l=i.next("."+r.tranCls);l&&l.remove(),n(s.get("outerTpl")).insertAfter(i),l=i.next("."+r.tranCls),a&&l.addClass(r.activeCls),l.html(t.substitute(s.get("moveTpl"),{top:e.top,bottom:e.bottom}))},_bindEvents:function(){var e,a=this,s=a.get("vcNumber"),i=s.get("cls"),n=a.get("slideCls"),r=function(t){var a=t.input,s=a.next("."+n.tranCls);e&&clearTimeout(e),e=setTimeout(function(){a.removeClass(n.hidCls),s&&s.remove()},700)},l=function(e){var r=e.input,l=e.trigger,o=r.next("."+n.tranCls);r.addClass(n.hidCls);var v=Number(r.val()),u=parseFloat(r.attr("data-min"))||s.get("min"),d=parseFloat(r.attr("data-max"))||s.get("max"),g=Number(t.trim(r.attr("data-range")))||s.get("range");if(l.hasClass&&l.hasClass(i.plus)||38==l){if(v+g>d&&(g=d-v),!g)return r.removeClass(n.hidCls),void(o&&o.remove());a._renderHtml({top:v,bottom:v-g}),setTimeout(function(){r.next().addClass(n.activeCls)},50)}else if(l.hasClass&&l.hasClass(i.minus)||40==l){if(u>v-g&&(g=v-u),!g)return r.removeClass(n.hidCls),void(o&&o.remove());a._renderHtml({top:v+g,bottom:v},!0),setTimeout(function(){r.next().removeClass(n.activeCls)},50)}};s.on("afterChange",r),s.on("changing",l),a.set("afterChange",r),a.set("changing",l)}},{ATTRS:{pluginId:{value:"slide"},vcNumber:{value:i},$target:{value:i},beforeChange:{value:i},afterChange:{value:i},slideCls:{value:{activeCls:"active",tranCls:"tran",hidCls:"hideTxt",disabled:"vc-number-disabled"}},outerTpl:{value:'<div class="{cls}"></div>',getter:function(e){var a=this,s=a.get("slideCls");return t.substitute(e,{cls:s.tranCls})}},moveTpl:{value:'<div class="move"><div class="top">{top}</div><div class="bottom">{bottom}</div></div>'}}})});