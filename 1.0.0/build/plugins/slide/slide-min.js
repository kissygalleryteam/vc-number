KISSY.add("kg/vc-number/1.0.0/plugins/slide/slide",["node","base"],function(e,t,a,s){var i="",n=t("node").all,r=t("base");s.exports=r.extend({pluginInitializer:function(e){var t=this;e&&(t._initAttr(e),t._bindEvents())},pluginDestructor:function(){var e=this,t=e.get("vcNumber");t.detach("beforeChange",e.get("beforeChange")),t.detach("afterChange",e.get("afterChange"))},_initAttr:function(e){var t=this;t.set("vcNumber",e),t.set("$target",e.get("$target"))},_renderHtml:function(t,a){var s=this,i=s.get("$target"),r=s.get("slideCls"),l=i.next("."+r.tranCls);l&&l.remove(),n(s.get("outerTpl")).insertAfter(i),l=i.next("."+r.tranCls),a&&l.addClass(r.activeCls),l.html(e.substitute(s.get("moveTpl"),{top:t.top,bottom:t.bottom}))},_bindEvents:function(){var t,a=this,s=a.get("vcNumber"),i=s.get("cls"),n=a.get("slideCls"),r=function(t){var r=t.input,l=t.trigger,o=Number(r.val()),u=parseFloat(r.attr("data-min"))||s.get("min"),v=parseFloat(r.attr("data-max"))||s.get("max"),d=Number(e.trim(r.attr("data-range")))||s.get("range");if(r.addClass(n.hidCls),l.hasClass(i.plus)){if(o+d>v&&(d=v-o),!d)return void r.removeClass(n.hidCls);a._renderHtml({top:o+d,bottom:o}),setTimeout(function(){r.next().addClass(n.activeCls)},50)}else if(l.hasClass(i.minus)){if(u>o-d&&(d=o-u),!d)return void r.removeClass(n.hidCls);a._renderHtml({top:o,bottom:o-d},!0),setTimeout(function(){r.next().removeClass(n.activeCls)},50)}},l=function(e){var a=e.input,s=a.next("."+n.tranCls);t&&clearTimeout(t),t=setTimeout(function(){a.removeClass(n.hidCls),s&&s.remove()},500)};s.on("beforeChange",r),s.on("afterChange",l),a.set("beforeChange",r),a.set("afterChange",l)}},{ATTRS:{pluginId:{value:"slide"},vcNumber:{value:i},$target:{value:i},beforeChange:{value:i},afterChange:{value:i},slideCls:{value:{activeCls:"active",tranCls:"tran",hidCls:"hideTxt"}},outerTpl:{value:'<div class="{cls}"></div>',getter:function(t){var a=this,s=a.get("slideCls");return e.substitute(t,{cls:s.tranCls})}},moveTpl:{value:'<div class="move"><div class="top">{top}</div><div class="bottom">{bottom}</div></div>'}}})});